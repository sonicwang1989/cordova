var IndexCtrl=["$rootScope","$scope","$routeParams","$location","$window","$timeout","$q",function(e,t,n,r,o,i,a){t.title="插件测试",t.jump=function(e){r.url(e)}}];IndexCtrl.url="/index",IndexCtrl.templateUrl="./html/Index.html";var InitCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){e.deviceReady=!1;var a=function(){var e=i.defer();return setTimeout(function(){e.resolve()},2e3),e.promise};document.addEventListener("deviceready",function(){a().then(function(){var r=document.getElementById("deviceready"),o=r.querySelector(".listening"),i=r.querySelector(".received");o.setAttribute("style","display:none;"),i.setAttribute("style","display:block;"),e.deviceReady=!0,n.url("/index"),t.$apply()})},!1),document.addEventListener("backbutton",function(){navigator.notification.confirm("确定要退出吗？",function(e){1==e&&navigator.app.exitApp()},"confirm",["确定","取消"])},!1)}];InitCtrl.url="/init",InitCtrl.templateUrl="./html/Init.html";var MainCtrl=["$rootScope","$scope","$routeParams","$location","$window","$timeout","$q",function(e,t,n,r,o,i,a){}],DemoFileCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){}];DemoFileCtrl.url="/demo/file",DemoFileCtrl.templateUrl="../html/demo/demofile.html";var ComponentInit=["$rootScope","$scope","$location","$window",function(e,t,n,r){}],AutoUpdateCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="自动更新",t.onBack=function(){n.url("/index")},t.fetchUpdate=function(){var e={"config-file":"http://192.168.148.245:8080/chcp.json"},t=function(e,t){if(e)return alert(JSON.stringify(e));alert(JSON.stringify(t))};chcp.fetchUpdate(t,e)},t.installUpdate=function(){var e=function(){alert("更新安装完成")},t=function(t,n){if(t)return void alert("没有更新");alert("当前版本： "+n.currentVersion+" 新版本："+n.readyToInstallVersion),chcp.installUpdate(e)};chcp.isUpdateAvailableForInstallation(t)},document.addEventListener("chcp_updateIsReadyToInstall",function(){alert("准备安装更新")},!1)}];AutoUpdateCtrl.url="/plugin/autoupdate",AutoUpdateCtrl.templateUrl="./html/plugin/AutoUpdate.html";var BatteryCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="电池信息",t.onBack=function(){n.url("/index")},window.addEventListener("batterystatus",function(e){t.batteryStatus=e;try{t.$apply()}catch(e){}},!1)}];BatteryCtrl.url="/plugin/battery",BatteryCtrl.templateUrl="./html/plugin/Battery.html";var CameraCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="相机插件",t.onBack=function(){n.url("/index")},t.isReady=!1,document.addEventListener("deviceready",function(){console.log(navigator.camera),t.isReady=!0},!1),t.openCamera=function(){0!=t.isReady&&navigator.camera.getPicture(function(e){t.imgSource="data:image/jpeg;base64,"+e,t.$apply()},function(){alert(JSON.stringify(arguments))},{destinationType:Camera.DestinationType.DATA_URL})}}];CameraCtrl.url="/plugin/camera",CameraCtrl.templateUrl="./html/plugin/Camera.html";var ContactCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="通讯录",t.onBack=function(){n.url("/index")},document.addEventListener("deviceready",function(){function e(e){t.contacts=e,t.$apply()}function n(e){alert("onError!")}var r=new ContactFindOptions;r.filter="",r.multiple=!0;var o=[navigator.contacts.fieldType.displayName,navigator.contacts.fieldType.name];navigator.contacts.find(o,e,n,r)},!1)}];ContactCtrl.url="/plugin/contact",ContactCtrl.templateUrl="./html/plugin/Contact.html";var DeviceCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="设备信息",t.onBack=function(){n.url("/index")},document.addEventListener("deviceready",function(){var e=[];angular.forEach(device,function(t,n){e.push({property:n,value:t})}),t.deviceInfo=e;try{t.$apply()}catch(e){}},!1)}];DeviceCtrl.url="/plugin/device",DeviceCtrl.templateUrl="./html/plugin/Device.html";var DeviceMotionCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="运动传感器",t.onBack=function(){n.url("/index"),navigator.accelerometer.clearWatch(watchID)},t.watchID=null;var a=function(e){t.acceleration=e,t.$apply()},c=function(){alert(JSON.stringify(arguments))},u={frequency:1e3};document.addEventListener("deviceready",function(){t.watchID=navigator.accelerometer.watchAcceleration(a,c,u)},!1)}];DeviceMotionCtrl.url="/plugin/devicemotion",DeviceMotionCtrl.templateUrl="./html/plugin/DeviceMotion.html";var DeviceOrientationCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){function a(e){t.heading=e,t.$apply()}function c(e){alert("Compass error: "+e.code)}t.title="方向传感器",t.onBack=function(){n.url("/index"),navigator.compass.clearWatch(t.watchID)};var u={frequency:1e3};document.addEventListener("deviceready",function(){t.watchID=navigator.compass.watchHeading(a,c,u)},!1)}];DeviceOrientationCtrl.url="/plugin/deviceorientation",DeviceOrientationCtrl.templateUrl="./html/plugin/DeviceOrientation.html";var DialogCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="设备信息",t.onBack=function(){n.url("/index")},t.alert=function(){navigator.notification.alert("这是alert",function(){alert("alertCallback")},"alert","确定")},t.confirm=function(){navigator.notification.confirm("这是confirm",function(e){alert("confirmCallback:"+e)},"confirm",["确定","取消"])},t.prompt=function(){navigator.notification.prompt("这是prompt",function(e){alert("promptCallback:"+e.buttonIndex+"    "+e.input1)},"prompt",["确定","取消"],"prompt")},t.beep=function(){navigator.notification.beep(2)},document.addEventListener("deviceready",function(){alert("deviceready")},!1)}];DialogCtrl.url="/plugin/dialog",DialogCtrl.templateUrl="./html/plugin/Dialog.html";var FileCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="设备信息",t.onBack=function(){n.url("/index")},t.pathStack=[],t.files=[];var a=function(e){window.resolveLocalFileSystemURL(e,function(e){t.listDir(e)},function(){alert("list file error at "+e)})};document.addEventListener("deviceready",function(){a(cordova.file.applicationStorageDirectory)},!1),t.parentDir=function(){if(1!=t.pathStack.length){t.pathStack.pop();var e=t.pathStack.pop();t.listDir(e)}},t.listDir=function(e){if(!e.isFile){e.createReader().readEntries(function(n){t.pathStack.push(e),t.files=n,t.$apply()},function(){alert("list dir error")})}}}];FileCtrl.url="/plugin/file",FileCtrl.templateUrl="./html/plugin/File.html";var FileTransferCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="文件传输",t.onBack=function(){n.url("/index")},t.download=function(){window.requestFileSystem(window.TEMPORARY,52428800,function(e){e.root.getFile("ChromeStandalone_57.0.2987.133_Setup.exe",{create:!0,exclusive:!1},function(e){var t=new FileTransfer,n=e.toURL();t.download("http://sw.bos.baidu.com/sw-search-sp/software/1b5bc4ffa7d9b/ChromeStandalone_57.0.2987.133_Setup.exe",n,function(e){alert("下载完成")},function(e){alert("下载失败")},null,{})},function(){alert("onErrorCreateFile")})},function(){alert("requestFileSystem error")})},document.addEventListener("deviceready",function(){},!1)}];FileTransferCtrl.url="/plugin/filetransfer",FileTransferCtrl.templateUrl="./html/plugin/FileTransfer.html";var GeolocationCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="定位",t.onBack=function(){n.url("/index"),navigator.geolocation.clearWatch(t.watchID)};var a=function(e){t.position=e,t.$apply()},c=function(){alert("获取位置失败")},u={timeout:3e4};document.addEventListener("deviceready",function(){t.watchID=navigator.geolocation.watchPosition(a,c,u)},!1)}];GeolocationCtrl.url="/plugin/geolocation",GeolocationCtrl.templateUrl="./html/plugin/Geolocation.html";var InappbrowserCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="内置浏览器",t.onBack=function(){n.url("/index")},t.open=function(){cordova.InAppBrowser.open(encodeURI("http://www.baidu.com"),"_blank","location=yes")},document.addEventListener("deviceready",function(){},!1)}];InappbrowserCtrl.url="/plugin/inappbrowser",InappbrowserCtrl.templateUrl="./html/plugin/Inappbrowser.html";var MediaCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="媒体",t.onBack=function(){n.url("/index")},document.addEventListener("deviceready",function(){alert("mediaready")},!1)}];MediaCtrl.url="/plugin/media",MediaCtrl.templateUrl="./html/plugin/Media.html";var MsgPushCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.msg="斯人若彩虹 遇上方知有",t.pushMsg=function(){var e={platform:"all",audience:"all",notification:{android:{alert:t.msg,title:"推送测试",builder_id:1}}},n=cordovaHTTP.getBasicAuthHeader("00cf91a98776501acfc1e111","24f83146e4882bae3ba257b0"),r=function(e){if(200==e.status)return window.plugins.toast.show("推送成功","3000","center");alert(JSON.stringify(e))},o=function(e){alert(JSON.stringify(e))};cordovaHTTP.post("https://api.jpush.cn/v3/push",e,n,r,o)},t.onBack=function(){n.url("/index")}}];MsgPushCtrl.url="/plugin/msgpush",MsgPushCtrl.templateUrl="./html/plugin/MsgPush.html";var NetworkCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="网络",t.onBack=function(){n.url("/index")},document.addEventListener("deviceready",function(){var e=navigator.connection.type,t={};t[Connection.UNKNOWN]="Unknown connection",t[Connection.ETHERNET]="Ethernet connection",t[Connection.WIFI]="WiFi connection",t[Connection.CELL_2G]="Cell 2G connection",t[Connection.CELL_3G]="Cell 3G connection",t[Connection.CELL_4G]="Cell 4G connection",t[Connection.CELL]="Cell generic connection",t[Connection.NONE]="No network connection",alert("网络状态："+t[e])},!1),document.addEventListener("online",function(){alert("网络已连接")},!1),document.addEventListener("offline",function(){alert("网络已断开")},!1)}];NetworkCtrl.url="/plugin/network",NetworkCtrl.templateUrl="./html/plugin/Network.html";var SQLiteCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="SQL Lite",t.onBack=function(){n.url("/index"),t.db&&t.db.close(function(){console.log("db closed successfully")},function(){console.log("db closed failure"),console.log(arguments)})},t.db=null,t.newItem="";var a=function(){var e=i.defer();return t.db.executeSql("SELECT * FROM Records",[],function(t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r));e.resolve(n)}),e.promise},c=function(){return a().then(function(e){t.records=e})};document.addEventListener("deviceready",function(){try{t.db=window.sqlitePlugin.openDatabase({name:"demo.db",location:"default"}),t.db.sqlBatch(["CREATE TABLE IF NOT EXISTS Records (Item)"],function(){c()},function(e){console.log("Populate table error: "+e.message)})}catch(e){alert(JSON.stringify(e))}},!1),t.addNewRecord=function(){t.db.executeSql("INSERT INTO Records VALUES (?)",[t.newItem],function(){c().then(function(){t.newItem=""})})}}];SQLiteCtrl.url="/plugin/sqlite",SQLiteCtrl.templateUrl="./html/plugin/SQLite.html";var StatusbarCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="状态栏",t.onBack=function(){n.url("/index")},t.show=function(){StatusBar.show()},t.hide=function(){StatusBar.hide()},document.addEventListener("deviceready",function(){},!1)}];StatusbarCtrl.url="/plugin/statusbar",StatusbarCtrl.templateUrl="./html/plugin/Statusbar.html";var VibrationCtrl=["$rootScope","$scope","$location","$window","$timeout","$q",function(e,t,n,r,o,i){t.title="震动",t.onBack=function(){n.url("/index")},t.vibrate=function(){navigator.vibrate(3e3)},document.addEventListener("deviceready",function(){},!1)}];VibrationCtrl.url="/plugin/vibration",VibrationCtrl.templateUrl="./html/plugin/Vibration.html";var myApp=angular.module("myApp",["ngRoute","myService","myConfig","myDirective","myFilters"]).controller("MainCtrl",MainCtrl).config(["$routeProvider","$httpProvider",function(e,t){for(var n in window)if("ctrl"==n.substr(n.length-4,4).toLowerCase()){var r=window[n];r.url&&e.when(r.url,{templateUrl:r.templateUrl,controller:r})}e.otherwise({redirectTo:"/init"}),t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8";var o=function(e){var t,n,r,i,a,c,u,l="";for(t in e)if((n=e[t])instanceof Array)for(u=0;u<n.length;++u)a=n[u],r=t+"["+u+"]",c={},c[r]=a,l+=o(c)+"&";else if(n instanceof Object)for(i in n)a=n[i],r=t+"["+i+"]",c={},c[r]=a,l+=o(c)+"&";else void 0!==n&&null!==n&&(l+=encodeURIComponent(t)+"="+encodeURIComponent(n)+"&");return l.length?l.substr(0,l.length-1):l};t.defaults.transformRequest=[function(e){return angular.isObject(e)&&"[object File]"!==String(e)?o(e):e}]}]);angular.module("myConfig",[]).factory("myConfigSys",function(){return{can_speak:!1,fake_api:!0,api_path:__API_PATH__,api_log:"none",dump_mode:!0,app_path:__APP_PATH__,has_fav:!1}}).factory("myConfigUI",function(){return{color_picker_options:{format:"hex",alpha:!1,close:{show:!1,label:"关闭",class:""},clear:{show:!1,label:"清除",class:""},reset:{show:!1,label:"重置",class:""}},ta_toolbar_options:[["h1","h2","h3","p","bold","italics","strikeThrough","ul","ol"],["indent","outdent","justifyLeft","justifyCenter","justifyRight","justifyFull"],["insertImage","insertLink","insertVideo"],["undo","redo","clear","html","charcount"]]}});var myDirective=angular.module("myDirective",[]);angular.module("myFilters",[]).filter("orderObjectBy",function(){return function(e,t,n){var r=[];return angular.forEach(e,function(e){r.push(e)}),r.sort(function(e,n){return e[t]>n[t]?1:-1}),n&&r.reverse(),r}}).filter("checkmark",function(){return function(e){return!0===e||"true"===e||1===e||"1"===e?"✓":"✘"}}).filter("resolvetypemark",function(){return function(e){return"0"==e||0==e?"未处理":"-1"==e||-1==e?"问题单":"1"==e||1==e?"处理成功":""}}).filter("cancelmark",function(){return function(e){return!0===e||"true"===e||1===e||"1"===e?"✓":""}}).filter("transtypemark",function(){return function(e){return!0===e||"true"===e||1===e||"1"===e?"按消费单转移":"全卡消费数据转移"}}).filter("sysmark",function(){return function(e){return!0===e||"true"===e||1===e||"1"===e?"是":"否"}}).filter("finalmark",function(){return function(e){return!0===e||"true"===e||1===e||"1"===e?"是":"否"}}).filter("distributortypemark",function(){return function(e){return!0===e||"true"===e||1===e||"1"===e?"实体店":"网络店"}}).filter("handlemark",function(){return function(e){return!0===e||"true"===e||1===e||"1"===e?"已处理":"未处理"}}).filter("imgtypemark",function(){return function(e){return!0===e||"true"===e||1===e||"1"===e?"多图文":"单图文"}}).filter("logintypemark",function(){return function(e){return!0===e||"true"===e||1===e||"1"===e?"退出":"登录"}}).filter("vipmark",function(){return function(e){return!1===e||"false"===e?"":e}}).filter("giftdistributortypemark",function(){return function(e){return!0===e||"true"===e||1===e||"1"===e?"部分":"全部"}}).filter("deliverytypemark",function(){return function(e){return!0===e||"true"===e||1===e||"1"===e?"快递":"自取"}}).filter("apistatusmark",function(){return function(e){return!0===e||"true"===e||1===e||"1"===e?"成功":"失败"}}).filter("consumetypemark",function(){return function(e){return 0===e||"0"===e?"消费":"退货"}}).filter("applicationscopemark",function(){return function(e){return 1===e||"1"===e?"全部":"部分"}}).filter("birthscopemark",function(){return function(e){return 1===e||"1"===e?"全部":"仅限生日会员"}}).filter("noticetypemark",function(){return function(e){return 1===e||"1"===e?"其他":"活动公告"}}).filter("inputtypemark",function(){return function(e){return 1===e||"1"===e?"文本框":"下拉框"}}).filter("noticestatusmark",function(){return function(e){return"0"==e||0==e?"未确认":"1"==e||1==e?"已确认":"2"==e||2==e?"已审批":"3"==e||3==e?"已作废":""}}).filter("favourmark",function(){return function(e){return"0"==e||0==e?"当月":"1"==e||1==e?"当天":"2"==e||2==e?"当年":"3"==e||3==e?"前后n天":""}}).filter("favourtypemark",function(){return function(e){return"0"==e||0==e?"指定金额":"1"==e||1==e?"指定折扣":"2"==e||2==e?"优惠金额":""}}).filter("sexmark",function(){return function(e){return 1==e||"1"==e?"男":2==e||"2"==e?"女":3==e||"3"==e?"保密":""}}).filter("citytypemark",function(){return function(e){return 0==e||"0"==e?"无等级":1==e||"1"==e?"一线城市":2==e||"2"==e?"二线城市":""}}).filter("sourcetypemark",function(){return function(e){return 0==e||"0"==e?"无类型":1==e||"1"==e?"线上":2==e||"2"==e?"线下":""}}).filter("cardstatusmark",function(){return function(e){return 0==e||"0"==e?"正常":1==e||"1"==e?"停用":2==e||"2"==e?"挂失":3==e||"3"==e?"已使用":4==e||"4"==e?"过期":5==e||"5"==e?"作废":""}}).filter("workflowstatusmark",function(){return function(e){return 0==e||"0"==e?"初始":1==e||"1"==e?"设计流程":2==e||"2"==e?"审批通过":3==e||"3"==e?"开始执行":4==e||"4"==e?"执行中":5==e||"5"==e?"执行完成":6==e||"6"==e?"生成报表":7==e||"7"==e?"完成":8==e||"8"==e?"终止":""}}).filter("recordstatusmark",function(){return function(e){return 0==e||"0"==e?"审核中":1==e||"1"==e?"已审核拣货中":3==e||"3"==e?"已发货":5==e||"5"==e?"已完成":7==e||"7"==e?"已取消":8==e||"8"==e?"申请退货":9==e||"9"==e?"确认退货":11==e||"11"==e?"完成退货":""}}).filter("issendmark",function(){return function(e){return 0==e||"0"==e?"未发送":1==e||"1"==e?"已发送":2==e||"2"==e?"发送中":""}}).filter("activitytypemark",function(){return function(e){return 1==e||"1"==e?"大转盘":2==e||"2"==e?"刮刮卡":3==e||"3"==e?"竞猜":4==e||"4"==e?"投票":""}}).filter("activitystatusmark",function(){return function(e){return 0==e||"0"==e?"待审核":1==e||"1"==e?"待发布":2==e||"2"==e?"进行中":3==e||"3"==e?"已结束":4==e||"4"==e?"已终止":""}}).filter("workflowtypemark",function(){return function(e){return 0==e||"0"==e?"手机":""}}).filter("sourcemark",function(){return function(e){return 1==e||"1"==e?"erp":6==e||"6"==e?"pos":7==e||"7"==e?"百胜icrm":8==e||"8"==e?"e3后台":9==e||"9"==e?"淘宝":10==e||"10"==e?"拍拍":11==e||"11"==e?"openshop":12==e||"12"==e?"分销商":13==e||"13"==e?"京东":14==e||"14"==e?"亚马逊":15==e||"15"==e?"QQ网购":16==e||"16"==e?"一号店":17==e||"17"==e?"eBay":18==e||"18"==e?"网络分销主站":19==e||"19"==e?"淘宝分销":20==e||"20"==e?"新浪":21==e||"21"==e?"shopex":22==e||"22"==e?"ecshop":23==e||"23"==e?"当当":24==e||"24"==e?"邮乐":25==e||"25"==e?"乐酷天":26==e||"26"==e?"shopex分销王":27==e||"27"==e?"vjia":28==e||"28"==e?"优购":29==e||"29"==e?"efast":30==e||"30"==e?"微购物":31==e||"31"==e?"微信":32==e||"32"==e?"苏宁":33==e||"33"==e?"唯品会":34==e||"34"==e?"聚美优品":35==e||"35"==e?"卖网":36==e||"36"==e?"库巴":37==e||"37"==e?"名鞋库":38==e||"38"==e?"阿里巴巴":39==e||"39"==e?"口袋通":40==e||"40"==e?"工行":41==e||"41"==e?"银泰":42==e||"42"==e?"走秀网":43==e||"43"==e?"贝贝网":44==e||"44"==e?"蘑菇街":45==e||"45"==e?"拍鞋网":46==e||"46"==e?"好乐买":47==e||"47"==e?"乐蜂":48==e||"48"==e?"微盟":49==e||"49"==e?"折800":50==e||"50"==e?"OS主站":51==e||"51"==e?"API接口":52==e||"52"==e?"ncm":53==e||"53"==e?"BSERP2":54==e||"54"==e?"BS3000+":55==e||"55"==e?"第三方仓储物流":56==e||"56"==e?"唯品会JIT":57==e||"57"==e?"ISHOP":58==e||"58"==e?"飞牛":59==e||"59"==e?"蜜芽":60==e||"60"==e?"百度mall接口":61==e||"61"==e?"三足接口":62==e||"62"==e?"移动pos":63==e||"63"==e?"M6":65==e||"65"==e?"速卖通":66==e||"66"==e?"明星衣橱":67==e||"67"==e?"百胜E3":68==e||"68"==e?"润和pos":9e3==e||"9000"==e?"错误来源":""}}).filter("percentageMark",function(){return function(e){return(100*parseFloat(e)).toFixed(2)+"%"}}).filter("crontabtypemark",function(){return function(e){return 0==e||"0"==e?"指定频率":1==e||"1"==e?"每月第一天":"未知类型"}}).filter("emessagetypemark",function(){return function(e){return 0==e||"0"==e?"其它":1==e||"1"==e?"营销":2==e||"2"==e?"订单":3==e||"3"==e?"激活":4==e||"4"==e?"注册":""}}).filter("formatmoneymark",function(){return function(e){return Number(e).toFixed(2)}}).filter("subscribemark",function(){return function(e){return 0==e||"0"==e?"否":1==e||"1"==e?"是":""}}).filter("languagename",function(){return function(e){return"zh_cn"==e?"简体中文":"en"==e?"English":void 0}}).filter("trustHtml",function(e){return function(t){return e.trustAsHtml(t)}}).filter("default",function(){return function(e,t){return void 0==e||""==e?t:e}});var app={initialize:function(){document.addEventListener("deviceready",this.onDeviceReady.bind(this),!1)},onDeviceReady:function(){this.receivedEvent("deviceready")},receivedEvent:function(e){var t=document.getElementById(e),n=t.querySelector(".listening"),r=t.querySelector(".received");n.setAttribute("style","display:none;"),r.setAttribute("style","display:block;"),console.log("Received Event: "+e),console.log(JSON.stringify(device))}};app.initialize(),angular.module("myService",[]).factory("api",["$rootScope","$http","$location","$q","Popup","myConfigSys",function(e,t,n,r,o,i){var a=function(e,n){var r="../api_demo/"+e+".json";return t.get(r,n).then(function(e){return 1==e.data.status?e.data:(o.notice(e.data.message),!1)}).catch(function(e){return o.notice("网络访问失败"),!1})},c=function(e,n,r){var i="index.php?app_act="+e;return n&&(n.user_info={user_id:$util.getcookie("user_id"),user_code:$util.getcookie("user_code")}),t.post(i,n,r).then(function(e){return 1==e.data.status?e.data:(o.notice(e.data.message),e.data)}).catch(function(e){return o.notice("网络访问失败"),!1})},u=function(t,n,r){return!0===e.config_sys.fake_api?a(t,n):c(t,n,r)},l=function(e){return"index.php?app_act="+e};return e.config_sys||(e.config_sys=i),{get_api_url:l,request:u,request_demo:a}}]).factory("myServiceUtil",["$rootScope","api",function(e,t){var n=function(t){var n={m1:"",m2:"",m3:""};return e.sys_menu.forEach(function(e){e.child.forEach(function(r){r.child.forEach(function(o){if(t==o.url)return n.m1=e,n.m2=r,void(n.m3=o)}),n.m3}),n.m3}),n},r=function(t,n){var r=new RegExp(t,"ig"),o=[];return e.sys_menu.forEach(function(e){e.child.forEach(function(e){e.child.forEach(function(e){r.test(e.name)&&o.push(e)})})}),n&&n>0&&o.splice(n),o},o=function(t){var n=t.split(",");return e.sys_menu.forEach(function(t,r){-1==n.indexOf(t.purview_id)?e.sys_menu.splice(r,1):t.child.forEach(function(e,r){-1==n.indexOf(e.purview_id)?t.child.splice(r,1):e.child.forEach(function(t,r){-1==n.indexOf(t.purview_id)&&e.child.splice(r,1)})})}),e.sys_menu},i=function(e){return void 0===e?"":e.replace(/(\w)/,function(e){return e.toUpperCase()})},a=function(e){if(void 0===e)return"";var t=e.split("_"),n="";return t.forEach(function(e){n+=i(e)}),n};return{get_menu_by_url:n,get_menu_by_keywords:r,get_menu_by_purview:o,get_fav_status:function(t){var n=e.sys_menu_fav,r=!1;return n.forEach(function(e){e.url==t&&(r=!0)}),r},add_to_fav:function(t){e.sys_menu_fav.push(t),$util.setStorage("sys_menu_fav",e.sys_menu_fav)},remove_from_fav:function(t){var n=!1;e.sys_menu_fav.forEach(function(e,r){e.url==t.url&&(n=r)}),!1!==n&&e.sys_menu_fav.splice(n,1),$util.setStorage("sys_menu_fav",e.sys_menu_fav)},get_config_table_set:function(n){return t.request("sys/user_html_config/get_by_user_id",{user_id:n}).then(function(t){if(1==t.status){var r={};t.data.forEach(function(e){r[e.url]=e.context}),$util.setStorage("config_table_set_"+n,r),e.config_table_set=r}else e.config_table_set=$util.getStorage("config_table_set_"+n)?$util.getStorage("config_table_set_"+n):{}})},strtoUp:i,strtoUp2:a,clone:function(e){return JSON.parse(JSON.stringify(e))}}}]).factory("valid",["$rootScope",function(e){var t=function(e){return void 0!==e&&void 0!=e&&""!=e&&null!=e},n=function(e){return!!(/^(\+|-)?\d+$/.test(e)&&e>0)},r=function(e){return!!(/^(\+|-)?\d+$/.test(e)&&e>=0)},o=function(e){return!!/^(1(([35][0-9])|(47)|[8][0-9]))\d{8}$/.test(e)},i=function(e){return e>=0&&e<=1},a=function(e){return e>=1&&e<=100},c=function(e){return!!(/^[0-9]+.?[0-9]*$/.test(e)&&e>=0)},u=function(e){return!!(/^[0-9]+.?[0-9]*$/.test(e)&&e>0)},l=function(e){return e[0]===e[1]},s=function(e){return!!/^\d+(\.\d{2})*$/.test(e)},f=function(e,f){switch(e){case"check_required":return t(f);case"check_positive_integer":return n(f);case"check_integer":return r(f);case"check_mobile":return o(f);case"check_zero_one":return i(f);case"check_one_hundred":return a(f);case"check_zero_positive":return c(f);case"check_positive":return u(f);case"check_money_format":return s(f);case"check_eq":return l(f)}return!0};return{check:function(e){var t={status:!0,data:{}};return e.forEach(function(e){f(e.valid,e.data)?(t.data[e.key]="success",t.data[e.key+"_ico"]="glyphicon-ok",t.data[e.key+"_tip"]=""):(t.status=!1,t.data[e.key]="error",t.data[e.key+"_ico"]="glyphicon-warning-sign",t.data[e.key+"_tip"]=e.tip)}),t},check_required:t,check_positive_integer:n,check_integer:r,check_mobile:o,check_zero_one:i,check_one_hundred:a,check_zero_positive:c,check_positive:u,check_money_format:s,check_eq:l}}]).factory("myServiceDatabind",["$rootScope","api",function(e,t){return{select_department:function(e){return t.request("sys/department/get_list",e).then(function(e){var t=$q.defer(),n={filter_data:e.data.search_data,data:[],page_data:e.data.page_data};return e.data.data.forEach(function(e){n.data.push({code:e.department_code,name:e.department_name})}),t.resolve(n),t.promise})},select_user:function(e){return t.request("sys/user/get_list",e).then(function(e){var t=$q.defer(),n={filter_data:e.data.search_data,data:[],page_data:e.data.page_data};return e.data.data.forEach(function(e){n.data.push({code:e.user_code,name:e.user_name})}),t.resolve(n),t.promise})}}}]).factory("myServiceOptions",["$rootScope","api",function(e,t){return{option:{customer_sex_options:{0:"保密",1:"男",2:"女"},weixin_type_options:{0:"认证服务号"},_options:{}},selector:{select_department:"选择部门",select_user:"选择用户/店员"}}}]).factory("Language",["$http",function(e){return{language_get:function(){var t=$util.getStorage("language");return void 0==!t&&(t="zh_cn"),e.get("./lang/"+t+".json")},language_set:function(t){var n;return n=void 0==t||""==t?"zh_cn":t,$util.setStorage("language",n),e.get("./lang/"+n+".json")}}}]).factory("cordova",[function(){}]),function(e){function t(e,t,n,r){return"function"==typeof t&&(r=n,n=t,t=void 0),"function"!=typeof n&&(r=n,n=void 0),{url:e,data:t,fnSuc:n,dataType:r}}var n={},r=/android/gi.test(navigator.appVersion),o=function(){var t=e.localStorage;return r&&(t=os.localStorage()),t};n.trim=function(e){return String.prototype.trim?null==e?"":String.prototype.trim.call(e):e.replace(/(^\s*)|(\s*$)/g,"")},n.trimAll=function(e){return e.replace(/\s*/g,"")},n.isElement=function(e){return!(!e||1!=e.nodeType)},n.isArray=function(e){return Array.isArray?Array.isArray(e):e instanceof Array},n.isEmptyObject=function(e){return"{}"===JSON.stringify(e)},n.addEvt=function(e,t,r,o){if(!n.isElement(e))return void console.warn("$api.addEvt Function need el param, el param must be DOM Element");o=o||!1,e.addEventListener&&e.addEventListener(t,r,o)},n.rmEvt=function(e,t,r,o){if(!n.isElement(e))return void console.warn("$api.rmEvt Function need el param, el param must be DOM Element");o=o||!1,e.removeEventListener&&e.removeEventListener(t,r,o)},n.one=function(e,t,r,o){if(!n.isElement(e))return void console.warn("$api.one Function need el param, el param must be DOM Element");o=o||!1;var i=this,a=function(){r&&r(),i.rmEvt(e,t,a,o)};i.addEvt(e,t,a,o)},n.dom=function(e,t){if(1===arguments.length&&"string"==typeof arguments[0]){if(document.querySelector)return document.querySelector(arguments[0])}else if(2===arguments.length&&e.querySelector)return e.querySelector(t)},n.domAll=function(e,t){if(1===arguments.length&&"string"==typeof arguments[0]){if(document.querySelectorAll)return document.querySelectorAll(arguments[0])}else if(2===arguments.length&&e.querySelectorAll)return e.querySelectorAll(t)},n.byId=function(e){return document.getElementById(e)},n.first=function(e,t){return 1===arguments.length?n.isElement(e)?e.children[0]:void console.warn("$api.first Function need el param, el param must be DOM Element"):2===arguments.length?this.dom(e,t+":first-child"):void 0},n.last=function(e,t){if(1===arguments.length){if(!n.isElement(e))return void console.warn("$api.last Function need el param, el param must be DOM Element");var r=e.children;return r[r.length-1]}if(2===arguments.length)return this.dom(e,t+":last-child")},n.eq=function(e,t){return this.dom(e,":nth-child("+t+")")},n.not=function(e,t){return this.domAll(e,":not("+t+")")},n.prev=function(e){if(!n.isElement(e))return void console.warn("$api.prev Function need el param, el param must be DOM Element");var t=e.previousSibling;return t.nodeType&&3===t.nodeType?t=t.previousSibling:void 0},n.next=function(e){if(!n.isElement(e))return void console.warn("$api.next Function need el param, el param must be DOM Element");var t=e.nextSibling;return t.nodeType&&3===t.nodeType?t=t.nextSibling:void 0},n.closest=function(e,t){if(!n.isElement(e))return void console.warn("$api.closest Function need el param, el param must be DOM Element");var r,o,i=function(e,t){var n=0,r=e.length;for(n;n<r;n++)if(e[n].isEqualNode(t))return e[n];return!1},a=function(e,t){for(r=n.domAll(e.parentNode,t),o=i(r,e);!o;){if(null!=(e=e.parentNode)&&e.nodeType==e.DOCUMENT_NODE)return!1;a(e,t)}return o};return a(e,t)},n.contains=function(e,t){var n=!1;if(t===e)return n=!0;do{if((t=t.parentNode)===e)return n=!0}while(t===document.body||t===document.documentElement);return n},n.remove=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},n.attr=function(e,t,r){return n.isElement(e)?2==arguments.length?e.getAttribute(t):3==arguments.length?(e.setAttribute(t,r),e):void 0:void console.warn("$api.attr Function need el param, el param must be DOM Element")},n.removeAttr=function(e,t){if(!n.isElement(e))return void console.warn("$api.removeAttr Function need el param, el param must be DOM Element");2===arguments.length&&e.removeAttribute(t)},n.hasCls=function(e,t){return n.isElement(e)?e.className.indexOf(t)>-1:void console.warn("$api.hasCls Function need el param, el param must be DOM Element")},n.addCls=function(e,t){if(!n.isElement(e))return void console.warn("$api.addCls Function need el param, el param must be DOM Element");if("classList"in e)e.classList.add(t);else{var r=e.className,o=r+" "+t;e.className=o}return e},n.removeCls=function(e,t){if(!n.isElement(e))return void console.warn("$api.removeCls Function need el param, el param must be DOM Element");if("classList"in e)e.classList.remove(t);else{var r=e.className,o=r.replace(t,"");e.className=o}return e},n.toggleCls=function(e,t){return n.isElement(e)?("classList"in e?e.classList.toggle(t):n.hasCls(e,t)?n.addCls(e,t):n.removeCls(e,t),e):void console.warn("$api.toggleCls Function need el param, el param must be DOM Element")},n.val=function(e,t){if(!n.isElement(e))return void console.warn("$api.val Function need el param, el param must be DOM Element");if(1===arguments.length)switch(e.tagName){case"SELECT":return e.options[e.selectedIndex].value;case"INPUT":case"TEXTAREA":return e.value}if(2===arguments.length)switch(e.tagName){case"SELECT":return e.options[e.selectedIndex].value=t,e;case"INPUT":case"TEXTAREA":return e.value=t,e}},n.prepend=function(e,t){return n.isElement(e)?(e.insertAdjacentHTML("afterbegin",t),e):void console.warn("$api.prepend Function need el param, el param must be DOM Element")},n.append=function(e,t){return n.isElement(e)?(e.insertAdjacentHTML("beforeend",t),e):void console.warn("$api.append Function need el param, el param must be DOM Element")},n.before=function(e,t){return n.isElement(e)?(e.insertAdjacentHTML("beforebegin",t),e):void console.warn("$api.before Function need el param, el param must be DOM Element")},n.after=function(e,t){return n.isElement(e)?(e.insertAdjacentHTML("afterend",t),e):void console.warn("$api.after Function need el param, el param must be DOM Element")},n.html=function(e,t){return n.isElement(e)?1===arguments.length?e.innerHTML:2===arguments.length?(e.innerHTML=t,e):void 0:void console.warn("$api.html Function need el param, el param must be DOM Element")},n.text=function(e,t){return n.isElement(e)?1===arguments.length?e.textContent:2===arguments.length?(e.textContent=t,e):void 0:void console.warn("$api.text Function need el param, el param must be DOM Element")},n.offset=function(e){if(!n.isElement(e))return void console.warn("$api.offset Function need el param, el param must be DOM Element")
;var t=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),r=Math.max(document.documentElement.scrollTop,document.body.scrollTop),o=e.getBoundingClientRect();return{l:o.left+t,t:o.top+r,w:e.offsetWidth,h:e.offsetHeight}},n.css=function(e,t){if(!n.isElement(e))return void console.warn("$api.css Function need el param, el param must be DOM Element");"string"==typeof t&&t.indexOf(":")>0&&e.style&&(e.style.cssText+=";"+t)},n.cssVal=function(t,r){if(!n.isElement(t))return void console.warn("$api.cssVal Function need el param, el param must be DOM Element");if(2===arguments.length){return e.getComputedStyle(t,null).getPropertyValue(r)}},n.jsonToStr=function(e){if("object"==typeof e)return JSON&&JSON.stringify(e)},n.strToJson=function(e){if("string"==typeof e)return JSON&&JSON.parse(e)},n.setStorage=function(e,t){if(2===arguments.length){var n=t;"object"==typeof n?(n=JSON.stringify(n),n="obj-"+n):n="str-"+n;var r=o();r&&r.setItem(e,n)}},n.getStorage=function(e){var t=o();if(t){var n=t.getItem(e);if(!n)return;if(0===n.indexOf("obj-"))return n=n.slice(4),JSON.parse(n);if(0===n.indexOf("str-"))return n.slice(4)}},n.rmStorage=function(e){var t=o();t&&e&&t.removeItem(e)},n.clearStorage=function(){var e=o();e&&e.clear()},n.fixIos7Bar=function(e){if(!n.isElement(e))return void console.warn("$api.fixIos7Bar Function need el param, el param must be DOM Element");if("ios"==api.systemType){var t=api.systemVersion,r=parseInt(t,10),o=api.fullScreen,i=api.iOS7StatusBarAppearance;r>=7&&!o&&i&&(e.style.paddingTop="20px")}},n.fixStatusBar=function(e){if(!n.isElement(e))return void console.warn("$api.fixStatusBar Function need el param, el param must be DOM Element");var t=api.systemType;if("ios"==t)n.fixIos7Bar(e);else if("android"==t){var r=api.systemVersion;r=parseFloat(r),r>=4.4&&(e.style.paddingTop="25px")}},n.toast=function(e,t,n){var r={},o=function(e,t){api.showProgress(e),setTimeout(function(){api.hideProgress()},t)};if(1===arguments.length){var n=n||500;"number"==typeof e?n=e:r.title=e+"",o(r,n)}else if(2===arguments.length){var n=n||500,t=t;if("number"==typeof t){var i=t;n=i,t=null}e&&(r.title=e),t&&(r.text=t),o(r,n)}e&&(r.title=e),t&&(r.text=t),n=n||500,o(r,n)},n.post=function(){var e=t.apply(null,arguments),n={},r=e.fnSuc;if(e.url&&(n.url=e.url),e.data&&(n.data=e.data),e.dataType){var o=e.dataType.toLowerCase();"text"!=o&&"json"!=o||(n.dataType=o)}else n.dataType="json";n.method="post",api.ajax(n,function(e,t){e&&r&&r(e)})},n.get=function(){var e=t.apply(null,arguments),n={},r=e.fnSuc;if(e.url&&(n.url=e.url),e.dataType){var o=e.dataType.toLowerCase();"text"!=o&&"json"!=o||(n.dataType=o)}else n.dataType="text";n.method="get",api.ajax(n,function(e,t){e&&r&&r(e)})},n.setcookie=function(e,t,n){var r=new Date;r.setDate(r.getDate()+n),document.cookie=e+"="+encodeURI(t)+(null==n?"":";expires="+r.toGMTString())},n.getcookie=function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]==e)return decodeURI(r[1])}return null},n.removecookie=function(e){n.setcookie(e,"",-1)},e.$util=n}(window),myDirective.directive("footerBar",function(){return{restrict:"E",templateUrl:"html/directive/footer/footerbar.html",controller:["$scope","$element","$route",function(e,t,n){}]}}),myDirective.directive("headerBar",function(){return{restrict:"E",scope:{title:"=",backBtnVisiable:"=",onBack:"&"},templateUrl:"html/directive/header/headerbar.html",controller:["$scope","$element","$route",function(e,t,n){}]}});